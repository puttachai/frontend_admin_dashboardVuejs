<template>
  <div class="container">
    <h1 class="text-gray-700">üîç ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Focus / Visibility ‡∏î‡πâ‡∏ß‡∏¢ Vue</h1>
    <p class="text-gray-700">‡∏•‡∏≠‡∏á‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏ö, ‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤, ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏≠‡∏õ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏î‡∏π log ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>
    <div class="log-box">
      <pre>{{ logText }}</pre>
    </div>
  </div>
</template>

<script>
export default {
  name: 'FocusTest',
  data() {
    return {
      logText: 'üîÑ ‡∏£‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå...',
    };
  },
  methods: {
    appendLog(message) {
      const timestamp = new Date().toLocaleTimeString();
      this.logText += `\n[${timestamp}] ${message}`;
    },
    setupEventListeners() {
      window.addEventListener('blur', () => {
        this.appendLog('‚ùå blur: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏≠‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏≠‡∏≠‡∏Å');
      });

      window.addEventListener('focus', () => {
        this.appendLog('‚úÖ focus: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö');
      });

      document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
          this.appendLog('üö´ visibilitychange: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ (‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ó‡πá‡∏ö)');
        } else {
          this.appendLog('üëÄ visibilitychange: ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
        }
      });
    }
  },
  mounted() {
    this.setupEventListeners();
  }
};
</script>

<style scoped>
.container {
  text-align: center;
  padding: 2rem;
  font-family: sans-serif;
}

.log-box {
  margin-top: 2rem;
  background: #f3f3f3;
  padding: 1rem;
  border-radius: 8px;
  text-align: left;
  white-space: pre-line;
}
</style>
